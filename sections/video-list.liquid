{%- stylesheet -%}
  .video-section-container {
    padding: 2rem 10rem;
    max-width: 100vw;
    width: 100vw;
  }

  .video-container {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 28px;
  }

  .video-container .video {
    margin: 0 2rem;
  }

  @media screen and (max-width: 800px) {
    .video-section-container {
      padding: 2rem;
    }
  }

  @media screen and (max-width: 430px) {
    .video-container .video img {
      width: 100px;
    }
  }

  @media screen and (max-width: 350px) {
    .video-container .video img {
      width: 80px;
    }
  }

  @media screen and (max-width: 310px) {
    .video-container .video img {
      width: 80vw;
    }
  }

  .video-container .video video {
    width: 500px;
    height: auto;
  }
{%- endstylesheet -%}

<div class="video-section-container">
  <div class="video-container">
    {% for block in section.blocks %}
      <div class="video">
      
      <video
          width="800"
          height="auto"
          controls
          src="{{ block.settings.video.sources[0].url }}"
          {% if block.settings.autoplay %}
          autoplay
          {% endif %}
          {% if block.settings.muted %}
          muted
          {% endif %}
          poster="https://images.unsplash.com/photo-1690942596730-2d7673868a3f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDExfHx8ZW58MHx8fHx8"
          {% if section.settings.thumbnail != blank %}
            poster="{{ block.settings.thumbnail }}"
          {% endif %}>
        </video>

        {% comment %} {{
            block.settings.video
            | video_tag:
              image_size: '1100x',
              autoplay: block.settings.autoplay,
              controls: true,
              muted: false,
              preview_image: "https://images.unsplash.com/photo-1690942596730-2d7673868a3f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDExfHx8ZW58MHx8fHx8"
          }} {% endcomment %}
      </div>
    {% endfor %}
  </div>

</div>

{% schema %}
  {
    "name": "Video list",
    "tag": "section",
    "class": "section",
    "settings": [],
    "blocks": [
      {
        "type": "video",
        "name": "Video",
        "settings": [
          {
            "type": "video",
            "id": "video",
            "label": "Video"
          }, {
            "type": "image_picker",
            "id": "thumbnail",
            "label": "Thumbnail"
          }, {
            "type": "checkbox",
            "id": "autoplay",
            "label": "Autoplay video",
            "default": false
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Video list"
      }
    ]
  }
{% endschema %}